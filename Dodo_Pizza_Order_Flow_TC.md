# Тест-кейсы: Процесс оформления заказа «Додо Пицца»

## Позитивные сценарии (Happy Path)

---

### TC-1: Успешный заказ одной стандартной пиццы (гость)

**Предусловия:** Пользователь на главной странице, адрес доставки выбран.

**Шаги:**
1.  Выбрать пиццу «Пепперони».
2.  Нажать на кнопку `В корзину`.
3.  Перейти в корзину.
4.  Нажать на кнопку `Оформить заказ`.
5.  Ввести валидные данные (имя, телефон).
6.  Выбрать способ оплаты `Оплата картой онлайн`.
7.  Нажать на кнопку `Заказать`.

**Ожидаемый результат:** Заказ успешно оформлен, пользователь перенаправлен на страницу подтверждения заказа с его номером и статусом.

---

### TC-2: Добавление нескольких разных товаров в корзину

**Предусловия:** Пользователь на главной странице, адрес доставки выбран.

**Шаги:**
1.  Добавить в корзину пиццу.
2.  Добавить в корзину закуску.
3.  Добавить в корзину напиток.

**Ожидаемый результат:** Все три товара корректно отображаются в корзине с правильными ценами. Итоговая сумма верна.

---

### TC-3: Успешное применение валидного промокода

**Предусловия:** В корзине есть товар, подходящий под условия промокода.

**Шаги:**
1.  Перейти в корзину.
2.  Ввести валидный промокод в поле `Промокод`.
3.  Нажать на кнопку `Применить`.

**Ожидаемый результат:** Промокод применился, сумма заказа пересчиталась в соответствии с условиями акции. Появилось сообщение об успешном применении.

---

### TC-4: Кастомизация пиццы — добавление ингредиента

**Предусловия:** Пользователь в карточке пиццы.

**Шаги:**
1.  Выбрать пиццу.
2.  Нажать на кнопку `Изменить`.
3.  Добавить ингредиент `Сырные бортики`.
4.  Нажать на кнопку `Добавить в корзину`.

**Ожидаемый результат:** Пицца с добавленным ингредиентом добавлена в корзину. Цена пиццы увеличилась на стоимость ингредиента. В составе пиццы в корзине указан «Сырный бортик».

---

### TC-5: Изменение количества товара в корзине

**Предусловия:** В корзине есть 1 товар.

**Шаги:**
1.  Перейти в корзину.
2.  Нажать на иконку `+` рядом с количеством товара.

**Ожидаемый результат:** Количество товара изменилось на 2. Итоговая сумма заказа удвоилась.

---

### TC-6: Удаление товара из корзины

**Предусловия:** В корзине есть несколько товаров.

**Шаги:**
1.  Перейти в корзину.
2.  Нажать на иконку удаления (крестик или значок мусорной корзины) у одного из товаров.

**Ожидаемый результат:** Товар удален из корзины. Итоговая сумма заказа пересчитана.

---

### TC-7: Оформление заказа с оплатой при получении

**Предусловия:** Пользователь на странице оформления заказа.

**Шаги:**
1.  Заполнить контактные данные.
2.  Выбрать способ оплаты `Картой курьеру`.
3.  Нажать на кнопку `Заказать`.

**Ожидаемый результат:** Заказ успешно оформлен. На странице подтверждения указан выбранный способ оплаты.

## Негативные сценарии

---

### TC-8: Применение невалидного/несуществующего промокода

**Предусловия:** В корзине есть товар.

**Шаги:**
1.  Перейти в корзину.
2.  Ввести `INVALIDPROMO` в поле `Промокод`.
3.  Нажать на кнопку `Применить`.

**Ожидаемый результат:** Появляется сообщение об ошибке, что промокод не найден или недействителен. Сумма заказа не изменяется.

---

### TC-9: Попытка заказа на адрес вне зоны доставки

**Предусловия:** Пользователь на главной странице.

**Шаги:**
1.  Ввести в поле адреса `г. Москва, Красная площадь, 1`.

**Ожидаемый результат:** Система выводит сообщение, что данный адрес не входит в зону доставки. Кнопка `Выбрать` неактивна или ведет на страницу с информацией.

---

### TC-10: Оформление заказа с невалидным номером телефона

**Предусловия:** Пользователь на странице оформления заказа.

**Шаги:**
1.  Ввести имя.
2.  Ввести в поле `Телефон` значение `123`.
3.  Попытаться перейти к оплате.

**Ожидаемый результат:** Поле `Телефон` подсвечивается красным. Появляется сообщение об ошибке формата номера. Кнопка `Заказать` неактивна.

---

### TC-11: Попытка добавить в корзину отсутствующий товар

**Предусловия:** Товар временно недоступен для заказа (в stop-list).

**Шаги:**
1.  Найти в меню товар с пометкой `сегодня закончился`.

**Ожидаемый результат:** Кнопка `В корзину` у данного товара неактивна (disabled) или отсутствует.

## UI / UX Тесты

---

### TC-12: Единообразие стиля кнопок «В корзину»

**Предусловия:** Пользователь неавторизован, находится на главной странице.

**Шаги:**
1.  Найти кнопку `В корзину` у пиццы на главной странице.
2.  Перейти в раздел «Закуски», найти кнопку `В корзину` у любого товара.
3.  Открыть карточку любой пиццы, найти там кнопку `В корзину`.

**Ожидаемый результат:** Все кнопки `В корзину` имеют одинаковый дизайн: цвет, форму, размер шрифта и иконку. Поведение при наведении курсора (hover-эффект) также идентично на всех кнопках.

---

### TC-13: Наличие визуального подтверждения при добавлении товара в корзину

**Предусловия:** В корзине пусто.

**Шаги:**
1.  Нажать на кнопку `В корзину` у любого товара на главной странице.

**Ожидаемый результат:** Сразу после нажатия появляется краткое уведомление (например, `Пепперони добавлена в корзину`). Иконка корзины в шапке сайта обновляется, показывая `1`.

---

## Тесты с применением техник тест-дизайна

### TC-14: Проверка поля "Сдача с суммы" (Верхняя граница) (*Техника: Анализ граничных значений*)

**Предусловия:**
*   Пользователь находится в корзине с заказом на сумму 1250 ₽.
*   Выбран способ оплаты «Наличными курьеру».
*   **(Гипотеза)** Существует бизнес-ограничение: максимальная сумма наличных, с которой курьер может выдать сдачу, составляет 15 000 ₽.

**Шаги:**
1.  Ввести в поле «Сдача с суммы» значение `15001` (выше границы).
2.  Очистить поле, ввести `15000` (на границе, последнее валидное значение).
3.  Очистить поле, ввести `14999` (непосредственно перед границей, валидное значение).

**Ожидаемый результат:**
1.  Поле подсвечивается красным, появляется ошибка «Сумма не может превышать 15 000 ₽». Кнопка `Оформить заказ` неактивна.
2.  Поле остается валидным, ошибка отсутствует. Заказ можно оформить.
3.  Результат аналогичен шагу 2. Поле валидно, заказ можно оформить.
   
---

### TC-15: Проверка промокода с несколькими условиями (*Техника: Таблица принятия решений*)

**Предусловия:** Промокод `WEEKEND10` дает скидку 10%, если:
*   Сумма заказа > 1200 ₽.
*   День недели — Суббота или Воскресенье.

**Шаги:**
1.  **(Все условия выполнены):** В Субботу добавить в корзину товаров на 1300 ₽. Применить промокод `WEEKEND10`.
2.  **(Одно условие не выполнено):** В Субботу добавить товаров на 1100 ₽. Применить `WEEKEND10`.

**Ожидаемый результат:**
1.  Промокод успешно применился, сумма заказа уменьшилась на 10%.
2.  Появляется ошибка «Минимальная сумма заказа для этого промокода — 1200 ₽». Скидка не применяется.
